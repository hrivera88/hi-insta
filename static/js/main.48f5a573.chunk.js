(this.webpackJsonpinstachat=this.webpackJsonpinstachat||[]).push([[0],{171:function(e,t,a){},180:function(e,t){},182:function(e,t){},195:function(e,t){},197:function(e,t){},225:function(e,t){},227:function(e,t){},228:function(e,t){},233:function(e,t){},235:function(e,t){},241:function(e,t){},243:function(e,t){},262:function(e,t){},274:function(e,t){},277:function(e,t){},296:function(e,t,a){},297:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(47),o=a.n(r),l=a(5),c=(a(171),a(308)),s=a(33),d=a(13),u=a(10),v=a(11),h=a(12),m=a(166),f=a(309),b=a(51),p=a.n(b),j=function(){function e(){var t=this;if(Object(v.a)(this,e),!this.socket){var a,n,i=localStorage.getItem("user"),r=p.a.decode(i,{complete:!0});this.socket=m.a("https://api-v2-stage.alive5.com/",{secure:!0,transports:["websocket","polling"],query:{authToken:i,channel_id:null===r||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.channelId,org_name:null===r||void 0===r||null===(n=r.payload)||void 0===n?void 0:n.orgName},withCredentials:!0}),this.socket.on("connect_error",(function(e){console.log("Socket disconnect  connect_error",e)})),this.socket.on("disconnect",(function(e){console.log("Socket disconnect",t.socket,t.socket.id,t.socket.connected,e)})),this.socket.on("connect",(function(){console.log("Socket is connected",t.socket,t.socket.id,t.socket.connected)}))}}return Object(h.a)(e,[{key:"fetchSMSMessages",value:function(){var e=this;return new f.a((function(t){e.socket.on("smsMessages",(function(e){t.next(e)}))}))}},{key:"fetchLiveChatMessages",value:function(){var e=this;return new f.a((function(t){e.socket.on("livechat-message",(function(e){t.next(e)}))}))}},{key:"replyToLiveChatMessage",value:function(e){this.socket.emit("livechat-message",e)}},{key:"joinLiveChatMessageRoom",value:function(e){this.socket.emit("buddychat-joinRoom",e)}},{key:"isAliveChatUpdated",value:function(){var e=this;return new f.a((function(t){e.socket.on("alivechat-threadUpdate",(function(e){t.next(e)}))}))}},{key:"buddyChatIsTyping",value:function(){var e=this;return new f.a((function(t){e.socket.on("buddychat-message-typing",(function(e){t.next(e)}))}))}},{key:"isThreadUpdated",value:function(){var e=this;return new f.a((function(t){e.socket.on("updatedThreadEvent",(function(e){t.next(e)}))}))}},{key:"updatedThreadCrmEvent",value:function(){var e=this;return new f.a((function(t){e.socket.on("updatedThreadCrmEvent",(function(e){t.next(e)}))}))}}],[{key:"getInstance",value:function(){return void 0===e.instance&&(e.instance=new e),e.instance}}]),e}(),_=a(25),g=a.n(_),O=a(6),x=a(18),w=a(4),y=a.n(w),T=function(){var e=Object(x.a)(y.a.mark((function e(t,a){var n,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api-v2-stage.alive5.com/"+t,e.prev=1,e.next=4,fetch(t,a);case 4:return n=e.sent,e.next=7,n.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(1),(r=[]).error=e.t0,r.no_result=!0,e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(e,t,a){var n,i,r=p.a.decode(e,{complete:!0}),o="public/1.0/get-channel-threads".concat("?channel_id=").concat(null===r||void 0===r||null===(n=r.payload)||void 0===n?void 0:n.channelId).concat("&org_name=").concat(null===r||void 0===r||null===(i=r.payload)||void 0===i?void 0:i.orgName)+"&view_history=".concat(parseInt(t),"&limit=").concat(a);return T(o,{method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"}})},C=function(e,t,a,n){var i="1.0/sms/get-conversation-last-msg".concat("?org_name=").concat(e).concat("&thread_id=").concat(t)+"&limit=".concat(n);return T(i,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a}})},S=function(e,t,a,n,i){var r="1.0/thread/get-thread-by-crm-id".concat("?org_name=").concat(e).concat("&crm_id=").concat(t).concat("&user_id=").concat(a)+"&limit=".concat(i);return T(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:n}})},N=function(e,t){var a={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)};return T("1.0/thread/update-livechat-thread",a)},D=function(e,t){var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)};return T("1.0/sms/reply",a)},I=function(e,t){var a=localStorage.getItem("user"),n="".concat("1.0/thread/get-sms-thread-by-id","?thread_id=").concat(e,"&org_name=").concat(t);return T(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a}})},V=function(e,t){var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)};return T("1.0/thread/update-thread",a)},A=function(e,t){var a={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)};return T("1.0/thread/update-livechat-thread",a)},M=function(e,t){var a=e.org_name,n=e.thread_id,i=e.thread_type,r=e.crm_id,o="".concat("1.0/thread/delete-thread","?org_name=").concat(a,"&thread_id=").concat(n);return"livechat"===i&&(o="".concat("1.0/thread/delete-crm-threads","?org_name=").concat(a,"&crm_id=").concat(r)),T(o,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t}})},E="SET_MESSAGES",L="SET_THREAD_LISTING",H="SET_SIGNLE_THREAD",B="SET_SINGLE_MESSAGE",Z="SET_USER_DATA",F="SET_VISITOR_LOADING",R="SET_AGENT_LOADING",U="SET_CROSS_BUTTON_STATUS",z="SET_CHATTING_WITH",G=function(e){return{type:E,payload:e}},q=function(e){return{type:B,payload:e}},J=function(e){return{type:L,payload:e}},P=function(e){return{type:Z,payload:e}},Y=function(e){return{type:U,payload:e}},W=function(e){return{type:z,payload:e}},X=function(e){return{type:H,payload:e}},K=(a(57),a(0)),Q=function(){return Object(K.jsxs)("main",{className:"h-screen w-screen bg-main flex flex-col items-center justify-center",children:[Object(K.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"243.809",className:"mb-10",height:"86.544",viewBox:"0 0 243.809 86.544",children:[Object(K.jsx)("path",{d:"M51.456,40.991C43.1,41.307,38.492,45.46,37.9,45.985V16.4a27.171,27.171,0,0,0-7.474-1.681c-4.376-.147-7.76.963-9.181,3.077A8.158,8.158,0,0,0,20,22.643V99.682H38.012V70.156c0-9.761,5.2-12.422,10.58-12.422,4.927,0,10.114,1.576,10.114,10.845v31.1H76.719v-34.8C76.719,46.494,64.352,40.5,51.456,40.991Z",transform:"translate(-20 -14.706)",fill:"#fff"}),Object(K.jsx)("path",{d:"M45.948,21.349a11.763,11.763,0,0,0-6.822,1.787q-2.566,1.791-2.573,6.162V78.4H54.565V23.022c-.441-.143-1.492-.467-3.127-.95A19.55,19.55,0,0,0,45.948,21.349Z",transform:"translate(33.029 6.576)",fill:"#fff"}),Object(K.jsx)("path",{d:"M78.195,36.565c-8.424-.307-15.061,4.809-16.407,6.154V17.783c-.446-.143-1.475-.467-3.094-.946a19.007,19.007,0,0,0-5.456-.727,11.892,11.892,0,0,0-6.864,1.778q-2.6,1.8-2.594,6.162V64.081c0,25.2,15.541,32.67,31.1,32.67,12.934,0,30.875-8.336,30.875-30.1C105.758,53.114,97.309,37.258,78.195,36.565ZM74.491,80.2c-9.353,0-12.813-7.293-12.813-13.6,0-4.931,3.182-13.586,12.813-13.586,9.488,0,12.808,8.1,12.808,13.586C87.3,73.607,83.029,80.2,74.491,80.2Z",transform:"translate(56.182 -10.208)",fill:"#fff"}),Object(K.jsx)("path",{d:"M114.638,22.072a19.48,19.48,0,0,0-5.477-.723,11.736,11.736,0,0,0-6.822,1.787c-1.719,1.194-2.568,3.245-2.568,6.162V51.775q0,11.646-10.513,11.64-10.53,0-10.522-11.64V23.022c-.454-.143-1.5-.467-3.136-.95a19.492,19.492,0,0,0-5.473-.723,11.8,11.8,0,0,0-6.835,1.787q-2.566,1.791-2.573,6.162V55.129c0,6.545,2.459,24.839,28.538,24.839,25.583,0,28.521-18.294,28.521-24.839V23.022C117.328,22.879,116.285,22.555,114.638,22.072Z",transform:"translate(110.444 6.576)",fill:"#fff"}),Object(K.jsx)("path",{d:"M36.512,24.128A9.176,9.176,0,1,1,45.688,33.3,9.181,9.181,0,0,1,36.512,24.128Z",transform:"translate(32.898 -13.934)",fill:"#fff"}),Object(K.jsx)("path",{d:"M60.718,24.128A9.176,9.176,0,1,1,69.894,33.3,9.181,9.181,0,0,1,60.718,24.128Z",transform:"translate(110.444 -13.934)",fill:"#fff"}),Object(K.jsx)("path",{d:"M70,24.128A9.174,9.174,0,1,1,79.18,33.3,9.178,9.178,0,0,1,70,24.128Z",transform:"translate(140.193 -13.934)",fill:"#fff"}),Object(K.jsxs)("g",{transform:"translate(233.972 30.287)",children:[Object(K.jsx)("path",{d:"M77.362,22.512h-1.7v-.6h4.124v.6h-1.7v5.036h-.719Z",transform:"translate(-75.66 -21.911)",fill:"#fff"}),Object(K.jsx)("path",{d:"M76.882,21.911h.841l1.093,3.027.412,1.148h.034l.4-1.148,1.085-3.027h.841v5.637H80.9v-3.1c0-.5.05-1.169.092-1.665h-.034l-.454,1.253-1.085,2.947h-.4l-1.089-2.947-.45-1.253h-.034c.034.5.1,1.169.1,1.665v3.1h-.664Z",transform:"translate(-71.745 -21.911)",fill:"#fff"})]})]}),Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"112",height:"48",viewBox:"0 0 112 48",children:Object(K.jsx)("text",{transform:"translate(56 38)",fill:"#fff",fontSize:"41",fontFamily:"HibuCoText-Regular, Hibu Co Text, Open Sans",children:Object(K.jsx)("tspan",{x:"-55",y:"0",children:"CHAT"})})})]})},$=a(37),ee=(a(296),function(e){var t,a,i,r,o,l,c=e.threadsList,s=e.threadListingType,v=e.handleBack,h=e.pageType,m=e.thread_id,f=e.setredirect,b=e.toast,p=e.actionBar,_=Object(n.useState)(),O=Object(d.a)(_,2),x=O[0],w=O[1],y=Object(u.c)((function(e){return e.global})).chattingWith,T="",k=Object(u.b)();Object(n.useEffect)((function(){return w(c),t=j.getInstance(),C(),function(){var e,t,n,c;null===(e=a)||void 0===e||e.unsubscribe(),null===(t=i)||void 0===t||t.unsubscribe(),null===(n=r)||void 0===n||n.unsubscribe(),null===(c=o)||void 0===c||c.unsubscribe(),l.unsubscribe()}}),[x,m]);var C=function(){var e,n,c,d;a=null===(e=t)||void 0===e?void 0:e.fetchLiveChatMessages().subscribe((function(e){var t;if(1===parseInt(h)){if(2===parseInt(s)){var a=x&&(null===x||void 0===x?void 0:x.length)>0&&(null===x||void 0===x?void 0:x.find((function(t){return t.thread_id===e.thread_id})));if((!a||a==={})&&void 0===(null===e||void 0===e?void 0:e.created_by)&&void 0===(null===e||void 0===e?void 0:e.user_id)){var n,i,r,o,l,c,d,u,v,f,b,p,j,_,O,y,C,S,N,D,I,V,A,M=(null===e||void 0===e||null===(n=e.newThread)||void 0===n?void 0:n.lastmessage_at)||(null===e||void 0===e||null===(i=e.newThread)||void 0===i?void 0:i.updated_at)||(null===e||void 0===e||null===(r=e.newThread)||void 0===r?void 0:r.created_at)||g()().valueOf(),E={phone_mobile:(null===e||void 0===e||null===(o=e.newThread)||void 0===o?void 0:o.phone_mobile)||"",thread_type:null===e||void 0===e||null===(l=e.newThread)||void 0===l?void 0:l.thread_type,thread_id:null===e||void 0===e||null===(c=e.newThread)||void 0===c?void 0:c.thread_id,org_name:null===e||void 0===e||null===(d=e.newThread)||void 0===d?void 0:d.org_name,crm_id:null===e||void 0===e||null===(u=e.newThread)||void 0===u?void 0:u.crm_id,alivesecure_key:null===e||void 0===e||null===(v=e.newThread)||void 0===v?void 0:v.alivesecure_key,aliveOpentokSession:(null===e||void 0===e||null===(f=e.newThread)||void 0===f?void 0:f.aliveOpentokSession)||"",status:null===e||void 0===e||null===(b=e.newThread)||void 0===b?void 0:b.thread_status,status_timestamp:null===e||void 0===e||null===(p=e.newThread)||void 0===p?void 0:p.updated_at,timestamp:null===e||void 0===e||null===(j=e.newThread)||void 0===j?void 0:j.created_at,created_by:null===e||void 0===e?void 0:e.created_by,assignedTo:(null===e||void 0===e||null===(_=e.newThread)||void 0===_?void 0:_.assignedTo)||"0",phone_number:(null===e||void 0===e||null===(O=e.newThread)||void 0===O?void 0:O.phone_mobile)||"",smsblocked:!(null===e||void 0===e||null===(y=e.newThread)||void 0===y||!y.user_blocked)&&(null===e||void 0===e||null===(C=e.newThread)||void 0===C?void 0:C.user_blocked),platform:(null===e||void 0===e||null===(S=e.newThread)||void 0===S?void 0:S.platform)||"",sms_platform:(null===e||void 0===e||null===(N=e.newThread)||void 0===N?void 0:N.platform)||"",alivesms_phone_number:"",channel_id:null===e||void 0===e||null===(D=e.newThread)||void 0===D?void 0:D.channel_id,crmData:(null===e||void 0===e||null===(I=e.newThread)||void 0===I?void 0:I.crmData)||{},campaign_pending:(null===e||void 0===e||null===(V=e.newThread)||void 0===V?void 0:V.campaign_pending)||"",lastmessage_at:null===e||void 0===e||null===(A=e.newThread)||void 0===A?void 0:A.lastmessage_at,history_thread_timestamp:g.a.unix(M/1e3).format("MM/DD/YY"),last_active_time:g.a.unix(M/1e3).fromNow()};(null===x||void 0===x?void 0:x.length)>0?w((function(e){return[].concat(Object($.a)(e),[E])})):w([E]),k(X(E))}}}else(null===e||void 0===e||null===(t=e.newThread)||void 0===t?void 0:t.thread_id)===m&&T!==e.message_id&&(T=e.message_id,k(q({message_content:e.message_content||"",created_at:e.created_at,created_by:e.created_by,From:e.From,direction:e.direction,media_url:e.media_url||[]})))})),i=null===(n=t)||void 0===n?void 0:n.fetchSMSMessages().subscribe((function(e){var t;if(1===parseInt(h)){if(2===parseInt(s)){var a=x&&(null===x||void 0===x?void 0:x.length)>0&&(null===x||void 0===x?void 0:x.find((function(t){return t.thread_id===e.thread_id})));if(!a||a==={}){var n,i,r,o,l,c,d,u,v,f,b,p,j,_,O,y,C,S,N,D,I,V,A=(null===e||void 0===e||null===(n=e.newThread)||void 0===n?void 0:n.lastmessage_at)||(null===e||void 0===e||null===(i=e.newThread)||void 0===i?void 0:i.updated_at)||(null===e||void 0===e||null===(r=e.newThread)||void 0===r?void 0:r.created_at)||g()().valueOf(),M={phone_mobile:null===e||void 0===e||null===(o=e.newThread)||void 0===o?void 0:o.phone_mobile,thread_type:null===e||void 0===e||null===(l=e.newThread)||void 0===l?void 0:l.thread_type,thread_id:null===e||void 0===e||null===(c=e.newThread)||void 0===c?void 0:c.thread_id,org_name:null===e||void 0===e||null===(d=e.newThread)||void 0===d?void 0:d.org_name,crm_id:null===e||void 0===e||null===(u=e.newThread)||void 0===u?void 0:u.crm_id,alivesecure_key:null===e||void 0===e||null===(v=e.newThread)||void 0===v?void 0:v.alivesecure_key,aliveOpentokSession:(null===e||void 0===e||null===(f=e.newThread)||void 0===f?void 0:f.aliveOpentokSession)||"",status:null===e||void 0===e||null===(b=e.newThread)||void 0===b?void 0:b.thread_status,status_timestamp:null===e||void 0===e||null===(p=e.newThread)||void 0===p?void 0:p.updated_at,timestamp:null===e||void 0===e||null===(j=e.newThread)||void 0===j?void 0:j.created_at,created_by:null===e||void 0===e?void 0:e.created_by,assignedTo:null===e||void 0===e?void 0:e.assignedTo,phone_number:(null===e||void 0===e||null===(_=e.newThread)||void 0===_?void 0:_.phone_mobile)||"",smsblocked:!(null===e||void 0===e||null===(O=e.newThread)||void 0===O||!O.user_blocked)&&(null===e||void 0===e||null===(y=e.newThread)||void 0===y?void 0:y.user_blocked),platform:(null===e||void 0===e||null===(C=e.newThread)||void 0===C?void 0:C.platform)||"",sms_platform:(null===e||void 0===e||null===(S=e.newThread)||void 0===S?void 0:S.platform)||"",alivesms_phone_number:"",channel_id:null===e||void 0===e||null===(N=e.newThread)||void 0===N?void 0:N.channel_id,crmData:(null===e||void 0===e||null===(D=e.newThread)||void 0===D?void 0:D.crmData)||{},campaign_pending:(null===e||void 0===e||null===(I=e.newThread)||void 0===I?void 0:I.campaign_pending)||"",lastmessage_at:null===e||void 0===e||null===(V=e.newThread)||void 0===V?void 0:V.lastmessage_at,history_thread_timestamp:g.a.unix(A/1e3).format("MM/DD/YY"),last_active_time:g.a.unix(A/1e3).fromNow()};(null===x||void 0===x?void 0:x.length)>0?w((function(e){return[].concat(Object($.a)(e),[M])})):w([M]),k(X(M))}}}else(null===e||void 0===e||null===(t=e.newThread)||void 0===t?void 0:t.thread_id)===m&&T!==e.message_id&&(T=e.message_id,k(q({message_content:e.message_content||"",created_at:e.created_at,created_by:e.created_by,From:e.From,direction:e.direction,media_url:e.media_url||[]})))})),r=null===(c=t)||void 0===c?void 0:c.isThreadUpdated().subscribe((function(e){if((2===parseInt(s)||void 0===s)&&e&&"deleted"===(null===e||void 0===e?void 0:e.threadStatus)){var t=null===x||void 0===x?void 0:x.filter((function(t){return t.thread_id!==e.threadId}));1!==!parseInt(h)&&void 0!==h||(b("Chat is Deleted by User!"),setTimeout((function(){f("Home")}),3e3)),k(J(t))}})),o=null===(d=t)||void 0===d?void 0:d.updatedThreadCrmEvent().subscribe((function(e){if(2===parseInt(s)){var t=x;if(t&&t.length){var a=t.findIndex((function(t){return t.thread_id===e.threadId}));parseInt(a)>-1&&t[parseInt(a)]&&t[parseInt(a)].crmData&&(t[parseInt(a)].crmData=null===e||void 0===e?void 0:e.crmData,w(t),k(J(t)))}}})),l=t.isAliveChatUpdated().subscribe((function(e){if("closed"===(null===e||void 0===e?void 0:e.thread_status))if(1===!parseInt(h)||void 0===h)console.log("in state close check...."),b("Chat is closed by User!"),setTimeout((function(){f("Home")}),3e3);else{var t=null===x||void 0===x?void 0:x.filter((function(t){return t.thread_id!==e.thread_id}));k(J(t))}}))};return Object(K.jsx)(K.Fragment,{children:1===parseInt(h)?Object(K.jsx)("header",{id:"insta-header",className:"bg-main fixed flex flex-row w-full justify-center items-center p-10",children:Object(K.jsx)("section",{id:"threads-header",className:"h-full flex flex-col items-center justify-center",children:Object(K.jsxs)("div",{className:"logo-img h-full flex flex-col items-center justify-center",children:[Object(K.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"98.809",className:"mb-10",height:"34.544",viewBox:"0 0 243.809 86.544",children:[Object(K.jsx)("path",{d:"M51.456,40.991C43.1,41.307,38.492,45.46,37.9,45.985V16.4a27.171,27.171,0,0,0-7.474-1.681c-4.376-.147-7.76.963-9.181,3.077A8.158,8.158,0,0,0,20,22.643V99.682H38.012V70.156c0-9.761,5.2-12.422,10.58-12.422,4.927,0,10.114,1.576,10.114,10.845v31.1H76.719v-34.8C76.719,46.494,64.352,40.5,51.456,40.991Z",transform:"translate(-20 -14.706)",fill:"#fff"}),Object(K.jsx)("path",{d:"M45.948,21.349a11.763,11.763,0,0,0-6.822,1.787q-2.566,1.791-2.573,6.162V78.4H54.565V23.022c-.441-.143-1.492-.467-3.127-.95A19.55,19.55,0,0,0,45.948,21.349Z",transform:"translate(33.029 6.576)",fill:"#fff"}),Object(K.jsx)("path",{d:"M78.195,36.565c-8.424-.307-15.061,4.809-16.407,6.154V17.783c-.446-.143-1.475-.467-3.094-.946a19.007,19.007,0,0,0-5.456-.727,11.892,11.892,0,0,0-6.864,1.778q-2.6,1.8-2.594,6.162V64.081c0,25.2,15.541,32.67,31.1,32.67,12.934,0,30.875-8.336,30.875-30.1C105.758,53.114,97.309,37.258,78.195,36.565ZM74.491,80.2c-9.353,0-12.813-7.293-12.813-13.6,0-4.931,3.182-13.586,12.813-13.586,9.488,0,12.808,8.1,12.808,13.586C87.3,73.607,83.029,80.2,74.491,80.2Z",transform:"translate(56.182 -10.208)",fill:"#fff"}),Object(K.jsx)("path",{d:"M114.638,22.072a19.48,19.48,0,0,0-5.477-.723,11.736,11.736,0,0,0-6.822,1.787c-1.719,1.194-2.568,3.245-2.568,6.162V51.775q0,11.646-10.513,11.64-10.53,0-10.522-11.64V23.022c-.454-.143-1.5-.467-3.136-.95a19.492,19.492,0,0,0-5.473-.723,11.8,11.8,0,0,0-6.835,1.787q-2.566,1.791-2.573,6.162V55.129c0,6.545,2.459,24.839,28.538,24.839,25.583,0,28.521-18.294,28.521-24.839V23.022C117.328,22.879,116.285,22.555,114.638,22.072Z",transform:"translate(110.444 6.576)",fill:"#fff"}),Object(K.jsx)("path",{d:"M36.512,24.128A9.176,9.176,0,1,1,45.688,33.3,9.181,9.181,0,0,1,36.512,24.128Z",transform:"translate(32.898 -13.934)",fill:"#fff"}),Object(K.jsx)("path",{d:"M60.718,24.128A9.176,9.176,0,1,1,69.894,33.3,9.181,9.181,0,0,1,60.718,24.128Z",transform:"translate(110.444 -13.934)",fill:"#fff"}),Object(K.jsx)("path",{d:"M70,24.128A9.174,9.174,0,1,1,79.18,33.3,9.178,9.178,0,0,1,70,24.128Z",transform:"translate(140.193 -13.934)",fill:"#fff"}),Object(K.jsxs)("g",{transform:"translate(233.972 30.287)",children:[Object(K.jsx)("path",{d:"M77.362,22.512h-1.7v-.6h4.124v.6h-1.7v5.036h-.719Z",transform:"translate(-75.66 -21.911)",fill:"#fff"}),Object(K.jsx)("path",{d:"M76.882,21.911h.841l1.093,3.027.412,1.148h.034l.4-1.148,1.085-3.027h.841v5.637H80.9v-3.1c0-.5.05-1.169.092-1.665h-.034l-.454,1.253-1.085,2.947h-.4l-1.089-2.947-.45-1.253h-.034c.034.5.1,1.169.1,1.665v3.1h-.664Z",transform:"translate(-71.745 -21.911)",fill:"#fff"})]})]}),Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"22",viewBox:"0 0 112 48",children:Object(K.jsx)("text",{transform:"translate(56 38)",fill:"#fff",fontSize:"41",fontFamily:"HibuCoText-Regular, Hibu Co Text, Open Sans",children:Object(K.jsx)("tspan",{x:"-55",y:"0",children:"CHAT"})})})]})})}):Object(K.jsx)("header",{id:"insta-header",className:"bg-main fixed flex flex-row w-full justify-center items-center p-10",children:Object(K.jsxs)("section",{id:"chat-header",className:"flex flex-row items-center w-full",children:[Object(K.jsx)("button",{className:"btn-col transparent white",onClick:v,style:{cursor:"pointer",padding:10},children:Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10.5",height:"18.366",viewBox:"0 0 10.5 18.366",children:Object(K.jsx)("path",{d:"M14.416,15.374l6.949-6.944a1.313,1.313,0,0,0-1.859-1.854l-7.873,7.868a1.31,1.31,0,0,0-.038,1.81L19.5,24.177a1.313,1.313,0,1,0,1.859-1.854Z",transform:"translate(-11.251 -6.194)",fill:"currentColor"})})}),Object(K.jsxs)("div",{className:"profile-image small ml-auto flex flex-col justify-center items-center",children:[Object(K.jsx)("div",{className:"image-container",children:Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 45.004 45.005",children:Object(K.jsxs)("g",{transform:"translate(-162 -435)",children:[Object(K.jsx)("path",{d:"M21.324,39.963,14.61,43.626a6.034,6.034,0,0,0-1.078.767,22.488,22.488,0,0,0,28.894.075,5.957,5.957,0,0,0-1.184-.793l-7.19-3.594a2.742,2.742,0,0,1-1.516-2.452V34.806a10.859,10.859,0,0,0,.68-.875,16.544,16.544,0,0,0,2.235-4.5,2.258,2.258,0,0,0,1.6-2.148V24.268A2.248,2.248,0,0,0,36.3,22.6V18.247s.894-6.774-8.279-6.774-8.279,6.774-8.279,6.774V22.6a2.245,2.245,0,0,0-.752,1.669v3.011a2.257,2.257,0,0,0,1.041,1.894,14.942,14.942,0,0,0,2.722,5.632v2.751A2.745,2.745,0,0,1,21.324,39.963Z",transform:"translate(156.481 430.321)",fill:"#e7eced"}),Object(K.jsx)("g",{transform:"translate(162 435)",children:Object(K.jsx)("path",{d:"M22.887,0a22.488,22.488,0,0,0-14.864,39.7,5.979,5.979,0,0,1,1.067-.759L15.8,35.285a2.743,2.743,0,0,0,1.429-2.407V30.126a14.928,14.928,0,0,1-2.722-5.632A2.258,2.258,0,0,1,13.47,22.6V19.588a2.248,2.248,0,0,1,.752-1.669V13.567S13.328,6.793,22.5,6.793s8.279,6.774,8.279,6.774V17.92a2.245,2.245,0,0,1,.752,1.669V22.6a2.258,2.258,0,0,1-1.6,2.148,16.544,16.544,0,0,1-2.235,4.5,10.86,10.86,0,0,1-.68.875v2.821A2.741,2.741,0,0,0,28.533,35.4l7.19,3.594a5.987,5.987,0,0,1,1.18.791A22.5,22.5,0,0,0,22.887,0Z",transform:"translate(0 0)",fill:"#556080"})})]})})}),Object(K.jsx)("p",{className:"font-14 tracking-05 font-normal white m-0 mt-5",children:y})]}),Object(K.jsx)("button",{className:"btn-col ml-auto transparent white",onClick:p,style:{cursor:"pointer"},children:Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"6",viewBox:"0 0 28 6",children:Object(K.jsxs)("g",{transform:"translate(-325 -65)",children:[Object(K.jsx)("circle",{cx:"3",cy:"3",r:"3",transform:"translate(325 65)",fill:"currentColor"}),Object(K.jsx)("circle",{cx:"3",cy:"3",r:"3",transform:"translate(336 65)",fill:"currentColor"}),Object(K.jsx)("circle",{cx:"3",cy:"3",r:"3",transform:"translate(347 65)",fill:"currentColor"})]})})})]})})})}),te=(a(297),function(e){var t=Object(u.c)((function(e){return e.global})).threadListing,a=e.redirectDataObj,n=e.redirect,i=e.threadListingType,r=e.fetchThreadList,o=e.chatAssignCheck,l=e.ToastContainer,s=e.lastBookElementRef;return Object(K.jsxs)("div",{id:"app-wrapper",className:"h-full open-sans",children:[Object(K.jsx)(ee,{pageType:1,threadsList:t,threadListingType:i}),"ChatView"===n&&Object(K.jsx)(c.a,{to:{pathname:"/ChatView/".concat(a.org_name,"/").concat(a.thread_id),state:a}}),"MonitorView"===n&&Object(K.jsx)(c.a,{to:{pathname:"/MonitorView/".concat(a.org_name,"/").concat(a.thread_id),state:a}}),Object(K.jsxs)("div",{className:"bg-secondary fixed thread-list-container w-full",style:{overflow:"scroll"},children:[Object(K.jsx)(l,{}),Object(K.jsx)("section",{id:"active-threads",className:"h-full overflow-y-scroll w-full",children:t.length>0&&t.map((function(e,a){var n,r,l;return Object(K.jsxs)("div",{ref:t.length===a+1?s:null,className:"thread border-solid border-0 border-gray-500 border-b-1 p-20 flex flex-row items-center w-full",style:{cursor:"pointer"},onClick:function(){return o({thread_id:null===e||void 0===e?void 0:e.thread_id,org_name:null===e||void 0===e?void 0:e.org_name,thread_type:null===e||void 0===e?void 0:e.thread_type,platform:null===e||void 0===e?void 0:e.platform})},children:[Object(K.jsx)("div",{className:"profile-image flex flex-col items-center justify-center mr-10 blue-100",children:Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",viewBox:"0 0 45.004 45.005",children:Object(K.jsxs)("g",{transform:"translate(-162 -435)",children:[Object(K.jsx)("path",{d:"M21.324,39.963,14.61,43.626a6.034,6.034,0,0,0-1.078.767,22.488,22.488,0,0,0,28.894.075,5.957,5.957,0,0,0-1.184-.793l-7.19-3.594a2.742,2.742,0,0,1-1.516-2.452V34.806a10.859,10.859,0,0,0,.68-.875,16.544,16.544,0,0,0,2.235-4.5,2.258,2.258,0,0,0,1.6-2.148V24.268A2.248,2.248,0,0,0,36.3,22.6V18.247s.894-6.774-8.279-6.774-8.279,6.774-8.279,6.774V22.6a2.245,2.245,0,0,0-.752,1.669v3.011a2.257,2.257,0,0,0,1.041,1.894,14.942,14.942,0,0,0,2.722,5.632v2.751A2.745,2.745,0,0,1,21.324,39.963Z",transform:"translate(156.481 430.321)",fill:"#e7eced"}),Object(K.jsx)("g",{transform:"translate(162 435)",children:Object(K.jsx)("path",{d:"M22.887,0a22.488,22.488,0,0,0-14.864,39.7,5.979,5.979,0,0,1,1.067-.759L15.8,35.285a2.743,2.743,0,0,0,1.429-2.407V30.126a14.928,14.928,0,0,1-2.722-5.632A2.258,2.258,0,0,1,13.47,22.6V19.588a2.248,2.248,0,0,1,.752-1.669V13.567S13.328,6.793,22.5,6.793s8.279,6.774,8.279,6.774V17.92a2.245,2.245,0,0,1,.752,1.669V22.6a2.258,2.258,0,0,1-1.6,2.148,16.544,16.544,0,0,1-2.235,4.5,10.86,10.86,0,0,1-.68.875v2.821A2.741,2.741,0,0,0,28.533,35.4l7.19,3.594a5.987,5.987,0,0,1,1.18.791A22.5,22.5,0,0,0,22.887,0Z",transform:"translate(0 0)",fill:"#556080"})})]})})}),Object(K.jsxs)("div",{className:"user-info flex flex-col",children:[Object(K.jsx)("p",{className:"user-name white font-medium font-16 m-0 mb-10",children:e.phone_mobile||(null===e||void 0===e||null===(n=e.crmData)||void 0===n?void 0:n.email)||(null!==e&&void 0!==e&&null!==(r=e.crmData)&&void 0!==r&&r.first_name,null===e||void 0===e||null===(l=e.crmData)||void 0===l?void 0:l.last_name)||"Visitor"}),Object(K.jsx)("p",{className:"breadcrumb blue-400 font-normal font-14 m-0",children:"sms"===(null===e||void 0===e?void 0:e.thread_type)&&"FB"!==(null===e||void 0===e?void 0:e.platform)?"via SMS":"FB"===(null===e||void 0===e?void 0:e.platform)?"via Facebook":"via LiveChat"})]}),"livechat"===e.thread_type&&2===parseInt(i)?Object(K.jsx)("div",{className:"thread-info ml-auto mt-5 self-start",children:Object(K.jsxs)("div",{className:"active-status flex flex-row items-center red-300",children:[Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8.251",height:"17.201",viewBox:"0 0 8.251 17.201",children:Object(K.jsx)("path",{d:"M1.5,10.231l1.564,1.564a9.952,9.952,0,0,1,14.073,0L18.7,10.231A12.17,12.17,0,0,0,1.5,10.231Zm3.127,3.127,1.564,1.564a5.531,5.531,0,0,1,7.819,0l1.564-1.564A7.749,7.749,0,0,0,4.627,13.358Z",transform:"translate(-6.671 18.701) rotate(-90)",fill:"currentColor"})}),Object(K.jsx)("p",{className:" m-0 ml-5 font-12 font-bold",children:"ACTIVE NOW"})]})}):Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("div",{className:"thread-info mt-5 flex flex-row items-start self-start ml-auto",children:Object(K.jsx)("div",{className:"timestamp",children:Object(K.jsx)("p",{className:"font-bold blue-400 m-0 font-14",children:2===parseInt(i)?null===e||void 0===e?void 0:e.last_active_time:e.history_thread_timestamp})})})})]},e.thread_id)}))})]}),Object(K.jsxs)("footer",{className:"bg-main flex fixed flex-row w-full justify-around items-center p-10",children:[Object(K.jsxs)("button",{className:2===parseInt(i)?"btn-col transparent gray items-center justify-center active":"btn-col transparent gray items-center justify-center",type:"button",onClick:function(){r(2)},children:[Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24.005",viewBox:"0 0 29 29.005",children:Object(K.jsx)("g",{transform:"translate(-68 -8.252)",children:Object(K.jsxs)("g",{transform:"translate(68 8.252)",children:[Object(K.jsx)("path",{d:"M29.946,11.981H14.365a2.683,2.683,0,0,0-2.679,2.679V25.509a2.677,2.677,0,0,0,2.679,2.672H23.28a.768.768,0,0,1,.534.225l4.43,4.085c.246.239.654.141.654-.2V28.73c0-.422.267-.555.689-.555h.07a2.927,2.927,0,0,0,2.96-2.672V14.66A2.668,2.668,0,0,0,29.946,11.981Z",transform:"translate(-3.618 -3.618)",fill:"currentColor"}),Object(K.jsx)("path",{d:"M12.262,10.259H24.736V5.667a2.293,2.293,0,0,0-2.292-2.292H5.667A2.293,2.293,0,0,0,3.375,5.667V17.283a2.293,2.293,0,0,0,2.292,2.292h4.3V12.551A2.3,2.3,0,0,1,12.262,10.259Z",transform:"translate(-3.375 -3.375)",fill:"currentColor"})]})})}),Object(K.jsx)("span",{className:"font-12 font-normal",children:"ACTIVE"})]}),Object(K.jsxs)("button",{className:1===parseInt(i)?"btn-col transparent gray items-center justify-center active":"btn-col transparent gray items-center justify-center ",type:"button",onClick:function(){r(1)},children:[Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24.94",height:"24.94",viewBox:"0 0 22.94 22.94",children:Object(K.jsx)("path",{d:"M23.5,12.011A11.47,11.47,0,0,1,4.834,20.963a1.109,1.109,0,0,1-.085-1.647l.521-.521A1.112,1.112,0,0,1,6.745,18.7,8.51,8.51,0,1,0,6.2,5.832L8.549,8.179a.74.74,0,0,1-.523,1.263H1.3a.74.74,0,0,1-.74-.74V1.979a.74.74,0,0,1,1.263-.523L4.109,3.739A11.47,11.47,0,0,1,23.5,12.011Zm-8.367,3.644.454-.584a1.11,1.11,0,0,0-.195-1.558l-1.882-1.464V7.222a1.11,1.11,0,0,0-1.11-1.11h-.74a1.11,1.11,0,0,0-1.11,1.11V13.5l3.025,2.353a1.11,1.11,0,0,0,1.558-.195Z",transform:"translate(-0.563 -0.563)",fill:"currentColor"})}),Object(K.jsx)("span",{className:"font-12 font-normal",children:"HISTORY"})]})]})]})}),ae=function(e){var t=Object(u.c)((function(e){return e.global})),a=t.threadListing,r=t.userData,o=Object(c.e)().instant_token,l=Object(n.useState)(""),s=Object(d.a)(l,2),v=s[0],h=s[1],m=Object(n.useState)({}),f=Object(d.a)(m,2),b=f[0],_=f[1],x=Object(n.useState)(!1),w=Object(d.a)(x,2),y=w[0],C=w[1],S=Object(n.useState)(10),N=Object(d.a)(S,2),D=N[0],I=N[1],V=localStorage.getItem("threadListing")||2,A=i.a.createRef(),M=Object(u.b)(),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;1===e?localStorage.setItem("threadListing",1):localStorage.setItem("threadListing",2);var t=localStorage.getItem("user");if(t){var a=p.a.decode(t,{complete:!0});localStorage.setItem("userData",JSON.stringify(a.payload)),M(P(a.payload)),k(t,e,D).then((function(e){var t;if(C(!0),e&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0){var a=null===e||void 0===e?void 0:e.data.map((function(e){var t=e.lastmessage_at||e.updated_at||e.created_at||g()().valueOf();return{phone_mobile:e.phone_mobile,thread_type:e.thread_type,thread_id:e.thread_id,org_name:e.org_name,crm_id:e.crm_id,alivesecure_key:null===e||void 0===e?void 0:e.alivesecure_key,aliveOpentokSession:(null===e||void 0===e?void 0:e.aliveOpentokSession)||"",status:null===e||void 0===e?void 0:e.thread_status,status_timestamp:null===e||void 0===e?void 0:e.updated_at,timestamp:null===e||void 0===e?void 0:e.timestamp,created_by:e.created_by,history_thread_timestamp:g.a.unix(t/1e3).format("MM/DD/YY"),last_active_time:g.a.unix(t/1e3).fromNow(),assignedTo:null===e||void 0===e?void 0:e.assignedTo,phone_number:(null===e||void 0===e?void 0:e.phone_mobile)||"",smsblocked:!(null===e||void 0===e||!e.user_blocked)&&(null===e||void 0===e?void 0:e.user_blocked),platform:(null===e||void 0===e?void 0:e.platform)||"",sms_platform:(null===e||void 0===e?void 0:e.platform)||"",alivesms_phone_number:"",channel_id:null===e||void 0===e?void 0:e.channel_id,crmData:(null===e||void 0===e?void 0:e.crmData)||{},campaign_pending:(null===e||void 0===e?void 0:e.campaign_pending)||"",lastmessage_at:e.lastmessage_at}}));M(J(a))}else M(J([]))})).catch((function(e){Object(O.b)("Short Link is Expired. try again later with a new link!")}))}else Object(O.b)("Token not available!")},L=function(){try{(function(e){return T("public/1.0/get-instant-token?id="+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})})(o).then((function(e){var t=(new Date).toLocaleString();localStorage.setItem("user",e.data.token),localStorage.setItem("time",t),j.getInstance();var a=parseInt(localStorage.getItem("threadListing"))||2;E(a)})).catch((function(e){Object(O.b)(e)}))}catch(e){Object(O.b)(e)}},H=Object(n.useCallback)((function(e){A.current&&A.current.disconnect(),A.current=new IntersectionObserver((function(e){e[0].isIntersecting&&I((function(e){return e+10}))})),e&&A.current.observe(e)}),[]);return Object(n.useEffect)((function(){if(localStorage.getItem("user")){var e=parseInt(localStorage.getItem("threadListing"))||2;E(e)}}),[D]),Object(n.useLayoutEffect)((function(){L()}),[]),Object(K.jsx)(K.Fragment,{children:y?Object(K.jsx)(te,{threadList:a,fetchThreadList:function(e){return E(e)},threadListingType:V,redirect:v,ToastContainer:O.a,redirectDataObj:b,chatAssignCheck:function(e){var t=e.thread_id,n=e.org_name,i=e.thread_type,o=null===a||void 0===a?void 0:a.find((function(e){return e.thread_id===t}));o&&o.assignedTo===r.user_id&&"closed"!==o.status?(_({thread_id:t,org_name:n,thread_type:i,crm_id:null===o||void 0===o?void 0:o.crm_id,thread_status:o.status,platform:(null===o||void 0===o?void 0:o.platform)||"platform"}),h("ChatView")):(h("MonitorView"),_({thread_id:t,org_name:n,thread_type:i,crm_id:null===o||void 0===o?void 0:o.crm_id,thread_status:o.status,platform:(null===o||void 0===o?void 0:o.platform)||"platform"}))},lastBookElementRef:H}):Object(K.jsx)(Q,{})})},ne=(a(303),a(304),function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),i=a[0],r=a[1],o=e.activeThread,l=JSON.parse(localStorage.getItem("userData")),c=Object(u.b)(),s=j.getInstance(),v=function(){var e=Object(x.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("user"),""===i){e.next=7;break}return a={crm_id:null===o||void 0===o?void 0:o.crm_id,alivesecure_key:null===o||void 0===o?void 0:o.alivesecure_key,aliveOpentokSession:(null===o||void 0===o?void 0:o.aliveOpentokSession)||"",status:null===o||void 0===o?void 0:o.thread_status,status_timestamp:null===o||void 0===o?void 0:o.updated_at,timestamp:Date.now(),thread_type:"sms",crmData:(null===o||void 0===o?void 0:o.crmData)||{},org_name:null===o||void 0===o?void 0:o.org_name,thread_id:null===o||void 0===o?void 0:o.thread_id,created_by:(null===o||void 0===o?void 0:o.created_by)||"instauser",user_id:null===l||void 0===l?void 0:l.user_id,assignedTo:null===o||void 0===o?void 0:o.assignedTo,message:i,visible_to_channel:(null===o||void 0===o?void 0:o.visible_to_channel)||"",screen_name:(null===o||void 0===o?void 0:o.screen_name)||"",phone_number:(null===o||void 0===o?void 0:o.phone_mobile)||"",psid:(null===o||void 0===o?void 0:o.psid)||"",userjoined:"",smsblocked:!(null===o||void 0===o||!o.user_blocked)&&(null===o||void 0===o?void 0:o.user_blocked),user_opt:null===o||void 0===o?void 0:o.user_optfalse,platform:(null===o||void 0===o?void 0:o.platform)||"",sms_platform:"bandwidth",alivesms_phone_number:(null===o||void 0===o?void 0:o.channel_number)||"",channel_id:null===o||void 0===o?void 0:o.channel_id,tags:[],files:"",isVideo:!1,mediaurl:"",bandwidthError:"",campaigns_applied:[]},"FB"===(null===o||void 0===o?void 0:o.platform)&&(a.fbPageID=o.fbPageID),r(""),e.next=7,D(a,t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(x.a)(y.a.mark((function e(){var t,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},""!==i&&(null!==o&&void 0!==o&&o.crmData&&(t={crmId:(null===o||void 0===o?void 0:o.crmData.crmId)||(null===o||void 0===o?void 0:o.crmData.crm_id)||"",oldCrmId:(null===o||void 0===o?void 0:o.crmData.old_crm_id)||"",orgName:(null===o||void 0===o?void 0:o.crmData.orgName)||(null===o||void 0===o?void 0:o.crmData.org_name)||"",firstName:(null===o||void 0===o?void 0:o.crmData.firstName)||(null===o||void 0===o?void 0:o.crmData.first_name)||"",lastName:(null===o||void 0===o?void 0:o.crmData.lastName)||(null===o||void 0===o?void 0:o.crmData.last_name)||"",notes:(null===o||void 0===o?void 0:o.crmData.notes)||[],email:(null===o||void 0===o?void 0:o.crmData.email)||"",phoneMobile:(null===o||void 0===o?void 0:o.crmData.phoneMobile)||(null===o||void 0===o?void 0:o.crmData.phone_mobile)||"",company:(null===o||void 0===o?void 0:o.crmData.company)||"",image:(null===o||void 0===o?void 0:o.crmData.image)||"",address:(null===o||void 0===o?void 0:o.crmData.address)||"",billing_address:(null===o||void 0===o?void 0:o.crmData.billing_address)||"",billing_city:(null===o||void 0===o?void 0:o.crmData.billing_city)||"",billing_country:(null===o||void 0===o?void 0:o.crmData.billing_country)||"",billing_state:(null===o||void 0===o?void 0:o.crmData.billing_state)||"",billing_zip:(null===o||void 0===o?void 0:o.crmData.billing_zip)||"",linkedin:(null===o||void 0===o?void 0:o.crmData.linkedin)||"",instagram:(null===o||void 0===o?void 0:o.crmData.instagram)||"",whatsapp:(null===o||void 0===o?void 0:o.crmData.whatsapp)||"",accountid:(null===o||void 0===o?void 0:o.crmData.accountid)||"",snapchat:(null===o||void 0===o?void 0:o.crmData.snapchat)||"",wechat:(null===o||void 0===o?void 0:o.crmData.wechat)||"",viber:(null===o||void 0===o?void 0:o.crmData.viber)||"",faq_question:(null===o||void 0===o?void 0:o.crmData.faq_question)||"",youtube:(null===o||void 0===o?void 0:o.crmData.youtube)||"",facebook:(null===o||void 0===o?void 0:o.crmData.facebook)||"",twitter:(null===o||void 0===o?void 0:o.crmData.twitter)||"",companytitle:(null===o||void 0===o?void 0:o.crmData.companytitle)||"",city:(null===o||void 0===o?void 0:o.crmData.city)||"",user_state:(null===o||void 0===o?void 0:o.crmData.user_state)||"",country:(null===o||void 0===o?void 0:o.crmData.country)||"",xip:(null===o||void 0===o?void 0:o.crmData.xip)||""}),a={alivesecure_key:(null===o||void 0===o?void 0:o.alivesecureKey)||"",aliveOpentokSession:(null===o||void 0===o?void 0:o.aliveOpentokSession)||"",assignedTo:"object"===typeof(null===o||void 0===o?void 0:o.assignedTo)?null===o||void 0===o?void 0:o.assignedTo.userId:(null===o||void 0===o?void 0:o.assignedTo)||"0",channel_id:null===o||void 0===o?void 0:o.channel_id,channelName:null===o||void 0===o?void 0:o.channel_name,created_at:(null===o||void 0===o?void 0:o.created_at)||"",connect_botchain:(null===o||void 0===o?void 0:o.connect_botchain)||"",connect_orgbot:(null===o||void 0===o?void 0:o.connect_orgbot)||"",crm_id:(null===o||void 0===o?void 0:o.crm_id)||"",lastmessage_at:(null===o||void 0===o?void 0:o.lastmessage_at)||"",order_viewed:(null===o||void 0===o?void 0:o.orderViewed)||"",order_viewed_by:(null===o||void 0===o?void 0:o.orderViewedBy)||"",org_name:(null===o||void 0===o?void 0:o.org_name)||"",thread_id:(null===o||void 0===o?void 0:o.thread_id)||"",thread_status:(null===o||void 0===o?void 0:o.thread_status)||"",thread_type:(null===o||void 0===o?void 0:o.thread_type)||"",updated_at:null===o||void 0===o?void 0:o.updated_at,timestamp:null===o||void 0===o?void 0:o.updated_at,livechatimageurl:(null===o||void 0===o?void 0:o.livechatimageurl)||"",orgbot_content:(null===o||void 0===o?void 0:o.orgbot_content)||"",agent_bot_id:(null===o||void 0===o?void 0:o.agent_bot_id)||"",widget_id:(null===o||void 0===o?void 0:o.widget_id)||"",googletrackerid:(null===o||void 0===o?void 0:o.googletrackerid)||"",user_blocked:!(null===o||void 0===o||!o.userBlocked),transferchat_from:(null===o||void 0===o?void 0:o.transferchat_from)||"",crmData:t},n={org_name:null===l||void 0===l?void 0:l.orgName,thread_id:(null===o||void 0===o?void 0:o.thread_id)||void 0,message_type:"livechat",route:"123",created_by:null===l||void 0===l?void 0:l.sceenName,profile_url:(null===l||void 0===l?void 0:l.profile_url)||"",user_id:null===l||void 0===l?void 0:l.user_id,message_content:i,event_mode:"redis",crm_id:null===o||void 0===o?void 0:o.crm_id,channel_id:null===o||void 0===o?void 0:o.channel_id,newThread:a},r(""),c({type:R,payload:!1}),s.replyToLiveChatMessage(n));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)("footer",{className:"bg-main flex fixed flex-row w-full justify-center items-center p-10",children:[Object(K.jsx)("button",{title:"Click here to upload an image",className:"btn-col ml-10 p-0 transparent white",children:Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",viewBox:"0 0 20 20",fill:"currentColor",children:Object(K.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),Object(K.jsx)("section",{id:"messenger-textarea-section",className:"p-10 w-full flex flex-row items-center relative",children:Object(K.jsx)("textarea",{name:"messenger-textarea",id:"messenger-textarea",className:"p-10 pr-25",placeholder:"Your message...","aria-label":"send a message",value:i,onChange:function(e){e.preventDefault(),r(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),"livechat"===(null===o||void 0===o?void 0:o.thread_type)?h():v())}})})]})}),ie=function(e){var t=e.closeChat,a=e.deleteThread,n=Object(u.c)((function(e){return e.global})).chattingWith;return Object(K.jsx)("div",{children:Object(K.jsx)("section",{id:"action-bar",children:Object(K.jsxs)("div",{className:"container absolute bg-main",children:[Object(K.jsx)("div",{className:"bar-header p-20 border-0 border-b-1 border-solid border-gray-500",children:Object(K.jsx)("p",{className:"m-0 white font-medium",children:n})}),Object(K.jsxs)("button",{className:"bar-item blue-200 transparent btn-block",onClick:t,style:{cursor:"pointer"},children:[Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:"icon left",viewBox:"0 0 16 16",children:Object(K.jsxs)("g",{transform:"translate(-32 -650)",children:[Object(K.jsx)("path",{id:"Icon_material-chat-bubble","data-name":"Icon material-chat-bubble",d:"M17.4,3H4.6A1.6,1.6,0,0,0,3,4.6V19l3.2-3.2H17.4A1.6,1.6,0,0,0,19,14.2V4.6A1.6,1.6,0,0,0,17.4,3Z",transform:"translate(29 647)",fill:"#3bc9f5"}),Object(K.jsx)("path",{id:"Icon_open-arrow-thick-left","data-name":"Icon open-arrow-thick-left",d:"M3.5,0,0,3.535,3.5,7V4.667H9.333V2.333H3.5Z",transform:"translate(35.333 653)",fill:"#1e1e2f"})]})}),Object(K.jsx)("span",{className:"white font-16",children:"End Chat"})]}),Object(K.jsxs)("button",{className:"bar-item blue-200 transparent btn-block",onClick:a,style:{cursor:"pointer"},children:[Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"18",className:"icon left",viewBox:"0 0 14 18",children:Object(K.jsx)("path",{d:"M8.5,20.5a2.006,2.006,0,0,0,2,2h8a2.006,2.006,0,0,0,2-2V8.5H8.5Zm2.46-7.12,1.41-1.41,2.13,2.12,2.12-2.12,1.41,1.41L15.91,15.5l2.12,2.12-1.41,1.41L14.5,16.91l-2.12,2.12-1.41-1.41,2.12-2.12ZM18,5.5l-1-1H12l-1,1H7.5v2h14v-2Z",transform:"translate(-7.5 -4.5)",fill:"currentColor"})}),Object(K.jsx)("span",{className:"white font-16",children:"Delete Chat"})]})]})})})},re=function(e){var t=Object(u.c)((function(e){return e.global})).messagesList,a=Object(n.useState)(!1),i=Object(d.a)(a,2),r=i[0],o=i[1],l=Object(n.useRef)(null),s=e.handleBack,v=e.toast,h=e.redirect,m=e.userData,f=e.thread_type,b=e.activeThread,p=e.ToastContainer,j=e.closeChat,_=e.deleteThread,g=e.setredirect,O=e.firstMessageElementRef,x=e.limit;Object(n.useEffect)((function(){var e;null===l||void 0===l||null===(e=l.current)||void 0===e||e.scrollIntoView(!0)}),[t]);return console.log("redirect",h),Object(K.jsxs)("div",{id:"app-wrapper",className:"grid  h-full w-full open-sans layout-grid",style:{position:"fixed",top:0},children:[Object(K.jsx)(ee,{handleBack:s,thread_id:null===b||void 0===b?void 0:b.thread_id,toast:v,actionBar:function(){o(!r)},setredirect:g}),"Home"===h&&Object(K.jsx)(c.a,{to:{pathname:"/".concat(m.shortCode)}}),Object(K.jsxs)("main",{id:"message-list-container",className:"bg-secondary fixed message-list-container w-full",children:[Object(K.jsx)(p,{style:{top:"80px"},containerId:"message-list-container"}),Object(K.jsxs)("section",{id:"message-list",className:"h-full overflow-y-scroll w-full",children:[Object(K.jsx)("div",{className:"conversation-bubbles p-20",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(K.jsx)("div",{ref:1===t?O:null,children:"Inbound"===e.direction||"livechat"===f&&!e.created_by?Object(K.jsx)("div",{className:"visitor bubble-group",children:Object(K.jsx)("div",{className:"bubble",children:Object(K.jsx)("p",{className:"m-0",children:null===e||void 0===e?void 0:e.message_content})},t)},t):Object(K.jsx)("div",{className:"agent bubble-group",children:Object(K.jsx)("div",{className:"bubble",children:Object(K.jsx)("p",{className:"m-0",children:null===e||void 0===e?void 0:e.message_content})},e.created_at)},t)},t)}))}),Object(K.jsx)("div",{ref:x<=20?l:null,children:" "})]})]}),Object(K.jsx)(ne,{activeThread:b}),r&&Object(K.jsx)(ie,{closeChat:j,deleteThread:_})]})},oe=function(e){var t,a=Object(u.b)(),r=Object(n.useState)(),o=Object(d.a)(r,2),l=o[0],c=o[1],s=Object(n.useState)(""),v=Object(d.a)(s,2),h=v[0],m=v[1],f=Object(n.useState)(20),b=Object(d.a)(f,2),p=b[0],j=b[1],_=null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.state,g=_.org_name,w=_.thread_id,T=_.thread_type,k=_.crm_id,N=JSON.parse(localStorage.getItem("userData")),D=i.a.createRef(),V=function(){var e=Object(x.a)(y.a.mark((function e(){var t,n,i,r,o,l,s,d,u,v,h,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(w,g);case 3:(t=e.sent)&&null!==t&&void 0!==t&&t.data?("closed"===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.thread_status)&&m("Home"),"FB"===(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.platform)?(a(W("".concat((null===t||void 0===t||null===(o=t.data)||void 0===o||null===(l=o.crmData)||void 0===l?void 0:l.first_name)+" "+(null===t||void 0===t||null===(s=t.data)||void 0===s||null===(d=s.crmData)||void 0===d?void 0:d.last_name)))),a(Y(!1))):"sms"===(null===(r=t.data)||void 0===r?void 0:r.thread_type)?(a(W(null===t||void 0===t||null===(u=t.data)||void 0===u||null===(v=u.crmData)||void 0===v?void 0:v.phone_mobile)),a(Y(!1))):(a(W("".concat(null===t||void 0===t||null===(h=t.data)||void 0===h||null===(f=h.crmData)||void 0===f?void 0:f.first_name))),a(Y(!0))),c(t.data)):(Object(O.b)("Couldn't find thread!"),console.error("Couldn't find thread")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(O.b)("Error while fetching thread!"),console.error("Error while fetching thread");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(y.a.mark((function e(){var t,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("user"),(a=l).thread_end_chat_by="agent",a.thread_status="closed",e.next=7,A(a,t);case 7:if(!(n=e.sent).error){e.next=11;break}return Object(O.b)(n.error),e.abrupt("return");case 11:n&&(Object(O.b)("Chat is closed successfully."),setTimeout((function(){m("Home")}),2e3)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(x.a)(y.a.mark((function e(){var t,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("user"),a=JSON.parse(localStorage.getItem("userData")),e.next=5,M({org_name:a.orgName,thread_id:l.thread_id,crm_id:null===l||void 0===l?void 0:l.crm_id,thread_type:l.thread_type},t);case 5:if(!(n=e.sent).error){e.next=9;break}return Object(O.b)(n.error),e.abrupt("return");case 9:n&&(Object(O.b)("Chat is Deleted successfully."),setTimeout((function(){m("Home")}),2e3)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(x.a)(y.a.mark((function e(){var t,n,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("user"))){e.next=13;break}if("livechat"!==T){e.next=9;break}return e.next=5,S(g,k,N.user_id,t,p);case 5:(n=e.sent)&&(n=n.data.sort((function(e,t){return parseFloat(e.created_at)-parseFloat(t.created_at)})),i=n.map((function(e){return{message_content:e.message_content,created_at:e.created_at,created_by:e.created_by,From:e.From,direction:e.direction}})),a(G(i))),e.next=13;break;case 9:return e.next=11,C(g,w,t,p);case 11:(n=e.sent)&&(r=n.data.Items.map((function(e){return{message_content:e.message_content,created_at:e.created_at,created_by:e.created_by,From:e.From,direction:e.direction}})),a(G(r)));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){H()}),[p]),Object(n.useLayoutEffect)((function(){V()}),[]);var B=Object(n.useCallback)((function(e){D.current&&D.current.disconnect(),D.current=new IntersectionObserver((function(e){e[0].isIntersecting&&j((function(e){return e+10}))})),e&&D.current.observe(e)}),[]);return Object(K.jsx)(re,{handleBack:function(){m("Home")},activeThread:l,redirect:h,setredirect:m,userData:N,thread_type:T,ToastContainer:O.a,closeChat:E,toast:O.b,deleteThread:L,firstMessageElementRef:B,limit:p})},le=(a(305),function(e){var t=Object(n.useRef)(null),a=Object(u.c)((function(e){return e.global})).messagesList,i=localStorage.getItem("threadListing")||2,r=e.toast,o=e.redirect,l=e.redirectDataObj,s=e.userData,d=e.thread_type,v=e.handleBack,h=e.assignChatToUsers,m=e.activeThread,f=e.ToastContainer,b=e.setredirect;return console.log("here is the obj",l),Object(n.useEffect)((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.scrollIntoView(!0)}),[a]),Object(K.jsxs)("div",{id:"app-wrapper",className:"grid h-full open-sans layout-grid w-full",children:[Object(K.jsx)(ee,{handleBack:v,thread_id:null===m||void 0===m?void 0:m.thread_id,setredirect:b,toast:r}),"ChatView"===o&&Object(K.jsx)(c.a,{to:{pathname:"/ChatView/".concat(l.org_name,"/").concat(l.thread_id),state:l}}),"Home"===o&&Object(K.jsx)(c.a,{to:{pathname:"/".concat(s.shortCode),state:l}}),Object(K.jsxs)("main",{className:"bg-secondary fixed monitor-list-container w-full",style:{overflow:"scroll"},children:[Object(K.jsx)(f,{style:{top:"80px"},containerId:"monitor-list-container"}),Object(K.jsxs)("section",{id:"mesage-list",className:"h-full overflow-y-scroll w-full",children:[Object(K.jsx)("div",{className:"conversation-bubbles p-20",children:null===a||void 0===a?void 0:a.map((function(e,t){return Object(K.jsx)("div",{children:"Inbound"===e.direction||"livechat"===d&&!e.created_by?Object(K.jsx)("div",{className:"visitor bubble-group",children:Object(K.jsx)("div",{className:"bubble",children:Object(K.jsx)("p",{className:"m-0",children:null===e||void 0===e?void 0:e.message_content})},t)},e.message_content):Object(K.jsx)("div",{className:"agent bubble-group",children:Object(K.jsx)("div",{className:"bubble",children:Object(K.jsx)("p",{className:"m-0",children:null===e||void 0===e?void 0:e.message_content})},t)},e.message_content)},t)}))}),Object(K.jsx)("div",{ref:t,children:" "})]})]}),!(1===parseInt(i)&&"livechat"===l.thread_type)&&Object(K.jsx)("footer",{className:"bg-secondary flex fixed flex-row w-full justify-center items-center p-10",children:Object(K.jsx)("button",{title:"Click here to start chatting",className:"btn-pill extra outline primary",style:{cursor:"pointer"},onClick:h,children:"BEGIN CHAT"})})]})}),ce=function(e){var t=JSON.parse(localStorage.getItem("userData")),a=Object(u.b)(),i=Object(n.useState)({}),r=Object(d.a)(i,2),o=r[0],l=r[1],c=Object(n.useRef)(null),s=j.getInstance(),v=e.location.state,h=v.org_name,m=v.thread_id,f=v.thread_type,b=v.thread_status,p=v.crm_id,_=v.platform,g=Object(n.useState)(""),w=Object(d.a)(g,2),T=w[0],k=w[1],D=Object(n.useState)({}),A=Object(d.a)(D,2),M=A[0],E=A[1],L=function(){var e=Object(x.a)(y.a.mark((function e(){var t,n,i,r,o,c,s,d,u,v,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(m,h);case 3:(t=e.sent)&&t.data?("FB"===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.platform)?(a(W("".concat((null===t||void 0===t||null===(r=t.data)||void 0===r||null===(o=r.crmData)||void 0===o?void 0:o.first_name)+" "+(null===t||void 0===t||null===(c=t.data)||void 0===c||null===(s=c.crmData)||void 0===s?void 0:s.last_name)))),a(Y(!1))):"sms"===(null===(i=t.data)||void 0===i?void 0:i.thread_type)?(a(W(null===t||void 0===t||null===(d=t.data)||void 0===d||null===(u=d.crmData)||void 0===u?void 0:u.phone_mobile)),a(Y(!1))):(a(W("".concat(null===t||void 0===t||null===(v=t.data)||void 0===v||null===(f=v.crmData)||void 0===f?void 0:f.first_name))),a(Y(!0))),H(),l(t.data)):(Object(O.b)("Couldn't find thread!"),console.error("Couldn't find thread")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(O.b)("Error while fetching thread!"),console.error("Error while fetching thread");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(x.a)(y.a.mark((function e(){var n,i,r,o,l,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("user"))){e.next=13;break}if("livechat"!==f){e.next=9;break}return e.next=5,S(h,p,t.user_id,n);case 5:(i=e.sent)&&(i=i.data.sort((function(e,t){return parseFloat(e.created_at)-parseFloat(t.created_at)})),o=i.map((function(e){return{message_content:e.message_content,created_at:e.created_at,created_by:e.created_by,From:e.From,direction:e.direction}})),a(G(o)),null===c||void 0===c||null===(r=c.current)||void 0===r||r.scrollIntoView(!0)),e.next=13;break;case 9:return e.next=11,C(h,m,n);case 11:(i=e.sent)&&(s=i.data.Items.map((function(e){return{message_content:e.message_content,created_at:e.created_at,created_by:e.created_by,From:e.From,direction:e.direction}})),a(G(s)),null===c||void 0===c||null===(l=c.current)||void 0===l||l.scrollIntoView(!0));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(y.a.mark((function e(){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("=======start chat click is working======="),a=localStorage.getItem("user"),n={thread_status:"open",user_id:t.user_id,thread_id:m,org_name:h,agent_bot_name:"Bilal test",created_by:t.sceenName,profile_url:"",thread_start_chat:"",assignedTo:t.user_id,connect_orgbot:"release",crm_id:p,connect_botchain:"release",accept:!0,read_by:t.user_id,bot_user_id:"",chat_accept_flag:!0},"livechat"!==f){e.next=10;break}return n.thread_status="chatting",n.bot_user_id=null===t||void 0===t?void 0:t.orgUserBotId,e.next=8,N(n,a).then((function(e){200===e.code?(n.threadStatus=n.thread_status,s.joinLiveChatMessageRoom(n),Object(O.b)("Thread is assigned to you!"),setTimeout((function(){k("ChatView")}),3e3)):Object(O.b)(e.error)}));case 8:e.next=12;break;case 10:return e.next=12,V(n,a).then((function(e){200===e.code?(n.threadStatus=n.thread_status,s.joinLiveChatMessageRoom(n),Object(O.b)("Thread is assigned to you!"),setTimeout((function(){k("ChatView")}),3e3)):Object(O.b)(e.error)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E({thread_id:m,org_name:h,thread_type:f,crm_id:p,thread_status:b,platform:_||"platform"}),L()}),[]),Object(K.jsx)(le,{redirectDataObj:M,toast:O.b,redirect:T,userData:t,thread_type:f,handleBack:function(){k("Home")},assignChatToUsers:B,activeThread:o,ToastContainer:O.a,setredirect:k})},se=Object(s.a)();var de=function(){var e=[{path:"/:instant_token",name:"Home",Component:ae},{path:"/ChatView/:org_name/:thread_id",name:"ChatView",Component:oe},{path:"/MonitorView/:org_name/:thread_id",name:"MonitorView",Component:ce}];return Object(K.jsx)(c.c,{history:se,children:Object(K.jsx)(c.d,{children:e.map((function(e){var t=e.path,a=e.Component;e.name;return Object(K.jsx)(c.b,{exact:!0,path:t,render:function(e){return Object(K.jsx)(a,Object(l.a)({},e))}},t)}))})})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,310)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),r(e),o(e)}))},ve=a(73),he={messagesList:[],threadListing:[],userData:{},agentLoading:!1,visitorLoading:!1,crossButtonStatus:!0,chattingWith:"N/A"},me=Object(ve.a)({global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case E:return Object(l.a)(Object(l.a)({},e),{},{messagesList:Object($.a)(n)});case B:return Object(l.a)(Object(l.a)({},e),{},{messagesList:[].concat(Object($.a)(e.messagesList),[n])});case L:return Object(l.a)(Object(l.a)({},e),{},{threadListing:Object($.a)(n)});case Z:return Object(l.a)(Object(l.a)({},e),{},{userData:n});case R:return Object(l.a)(Object(l.a)({},e),{},{agentLoading:n});case F:return Object(l.a)(Object(l.a)({},e),{},{visitorLoading:n});case U:return Object(l.a)(Object(l.a)({},e),{},{crossButtonStatus:n});case z:return Object(l.a)(Object(l.a)({},e),{},{chattingWith:n});case H:return Object(l.a)(Object(l.a)({},e),{},{threadListing:[n].concat(Object($.a)(e.threadListing))});default:return e}}}),fe=me,be=Object(ve.b)(fe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(K.jsx)(i.a.StrictMode,{children:Object(K.jsx)(u.a,{store:be,children:Object(K.jsx)(de,{})})}),document.getElementById("root")),ue()}},[[306,1,2]]]);
//# sourceMappingURL=main.48f5a573.chunk.js.map